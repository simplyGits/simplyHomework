<template name="appOverview">
	<div class="container-fluid">
		<div class="row" style="margin-top: -10px">
			{{#if isPhone}}
				<div class="robotoHeader overviewHeader head1">{{weekNumber}}e <span class="robotoThin">week</span></div>
			{{else}}
				<div class="robotoHeader overviewHeader head1" id="currentDate"><span>{{currentDay}} <span class="robotoThin">{{currentDate}}</span></span></div>
			{{/if}}
			<div class="robotoHeader overviewHeader head2" style="text-align: right">{{tasksAmount}} <span class="robotoThin" style="margin-left: 5px">{{tasksWord}}</span></div>
		</div>
		<div class="divider"></div>
		{{#if foundAppointment}}
			<div class="overviewImportantContainer">
				{{#if inLesson}}
					{{> infoCurrentLesson}}
				{{else}}
					{{#if dayOver}}
						{{> infoNextDay}}
					{{else}}
						{{> infoNextLesson}}
					{{/if}}
				{{/if}}
			</div>
		{{/if}}
		<div class="row">
			<div class="col-sm-6">
				<div class="itemContainer" id="overviewTaskContainer" style="height: calc(100vh - {{itemContainerMargin}})">
					<span class="robotoThin itemContainerHeader">
						Vandaag
					</span>
					<div class="itemContainerDivider"></div>
					<div class="itemContainerContent">
						{{#each tasks}}
							{{> taskRow}}
						{{/each}}
					</div>
				</div>
			</div>

			<div class="col-sm-6">
				<div class="itemContainer" id="overviewProjectContainer" style="height: calc(100vh - {{itemContainerMargin}})">
					<span class="robotoThin itemContainerHeader">
						<span class="fa fa-plus" id="addProjectIcon" onmouseover="$(this).velocity({ opacity: 1 }, 100);" onmouseleave="$(this).velocity({ opacity: .5 }, 100);"></span>
						Projecten
					</span>
					<div class="itemContainerDivider"></div>
					<div class="itemContainerContent">
						{{#each projects}}
							{{> projectRow}}
						{{/each}}
					</div>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="taskRow">
	<div class="taskRow">
		{{#if isDone}}
			<label style="text-decoration: line-through; opacity: .4">
				<input taskid="{{__id}}" type="checkbox" id="checkbox" checked>
				<span taskid="{{__id}}" id="checkboxLabel" class="robotoThin" style="font-weight: 300; font-size: 15px">
					<b>{{{__taskDescription}}}</b> voor {{__className}}
				</span>
			</label>
		{{else}}
			<label>
				<input taskid="{{__id}}" type="checkbox" id="checkbox">
				<span taskid="{{__id}}" id="checkboxLabel" class="robotoThin" style="font-weight: 300; font-size: 15px">
					<b>{{{__taskDescription}}}</b> voor {{__className}}
				</span>
			</label>
		{{/if}}
	</div>
</template>

<template name="projectRow">
	{{#linkTo route="projectView" projectId=this._id.toHexString}}
		<div class="projectRow">
			<div class="projectRowBorder" style="background-color: {{__borderColor}}">
				<span>{{__friendlyDeadline}}</span>
			</div>
			<span>{{name}}</span> {{__class.name}}
		</div>
	{{/linkTo}}
</template>

<template name="infoNextDay">
	<div class="robotoHeader infoNextDayHeader">Morgen</div>
	<div class="robotoHeader overviewTimeIndicator">
		<span>{{firstHour}}<sup>e</sup></span> - {{lastHour}}<sup>e</sup>
	</div>
	<div class="overviewPersons">
		{{#each people}}
			{{#linkTo route="personView" data=this}}
				<img src="{{gravatar this 50}}" width="25" height="25" data-toggle="tooltip" title="{{profile.firstName}} {{profile.lastName}}"/>
			{{/linkTo}}
		{{/each}}
	</div>
</template>

<template name="infoNextLesson">
	<div class="robotoHeader infoNextDayHeader">Volgend lesuur</div>
	<div class="robotoHeader overviewTimeIndicator">
		<span>{{hours}}</span>{{minutes}}
	</div>
	<div class="robotoHeader overviewClassLocation">
		{{appointment._location}}
	</div>
	<div class="robotoHeader overviewClassDescription">
		{{appointment.__className}}
	</div>
</template>

<template name="infoCurrentLesson">
	<div class="robotoHeader infoNextDayHeader">Huidig lesuur</div>
	<div class="robotoHeader overviewTimeIndicator">
		tot <span>{{hours}}</span>{{minutes}}
	</div>
	<div class="robotoHeader overviewClassDescription">
		{{appointment.__className}}
	</div>
</template>
