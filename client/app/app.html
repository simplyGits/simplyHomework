<template name="app">
	{{! begin modals}}
		{{> settingsModal}}
		{{> setMagisterInfoModal}}
		{{> getMagisterClassesModal}}
		{{> plannerPrefsModal}}
		{{> addClassModal}}
		{{> newSchoolYearModal}}
		{{> accountInfoModal}}
		{{> notificationSettingsModal}}
		{{> addProjectModal}}
		{{> deleteAccountModal}}
	{{! end modals}}

	{{> sidebar}}

	<div class="content unselectable" style="left: {{contentOffsetLeft}}; right: {{contentOffsetRight}}">
		{{> yield}}
		{{#unless has "noAds"}}
			<div style="height: 100px" id="adpadding"></div>
			<div id="adbar" style="left: {{contentOffsetLeft}}; right: {{contentOffsetRight}}"></div>
		{{/unless}}
	</div>
	{{> chatSidebar}}
	<div class="backdrop"></div>
</template>

<template name="settingsModal">
	<div class="modal fade" id="settingsModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">Instellingen</h4>
				</div>

				<div class="modal-body">
					<button class="btn btn-default" id="schedularPrefsButton">Planner Voorkeuren</button>
					<button class="btn btn-default" id="accountInfoButton">Account info aanpassen</button>
					<button class="btn btn-default" id="clearInfoButton">Alle data verwijderen</button>
					<button class="btn btn-default" id="deleteAccountButton">Account verwijderen</button>
					<button class="btn btn-default" id="startTourButton">Start rondleiding</button>
					<button class="btn btn-danger" id="logOutButton">Uitloggen</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="setMagisterInfoModal">
	<div class="modal fade" id="setMagisterInfoModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">Magister informatie</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal">
						<div id="nameGroup" class="form-group">
							<label for="schoolNameInput" class="col-sm-2 control-label" style="text-align: left">Schoolnaam</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="schoolNameInput" placeholder="Adelbert College">
							</div>
						</div>
						<div id="usernameGroup" class="form-group">
							<label for="magisterUsernameInput" class="col-sm-2 control-label" style="text-align: left">Magister inlognaam</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="magisterUsernameInput" placeholder="120678">
							</div>
						</div>
						<div id="passGroup" class="form-group">
							<label for="magisterPasswordInput" class="col-sm-2 control-label" style="text-align: left">Magister wachtwoord</label>
							<div class="col-sm-10">
								<input type="password" class="form-control" id="magisterPasswordInput" placeholder="●●●●●●●●●●">
							</div>
						</div>
						<div id="allowGroup" class="form-group">
							<div class="col-sm-10 col-sm-offset-2">
								<label>
									<input type="checkbox">
									<span id="checkboxLabel" style="font-size: 13px">
										Ik geef simply, simplyApps en simplyHomework toestemming mijn Magister gebruikersnaam, wachtwoord en data van Magister op te slaan en te gebruiken. Hierbij ga ik ook akkoord met het <a href="/privacy" target="_blank">volledige privacy beleid van simplyHomework</a>.
									</span>
								</label>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" id="goButton">verder</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="getMagisterClassesModal">
	<div class="modal fade" id="getMagisterClassesModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">Vakken</h4>
				</div>
				<div class="modal-body" id="getMagisterClassesModalBody">
					{{#unless magisterClasses}}
						<div style="width: 100%; text-align: center; font-size: 16px">
							Vakken aan het ophalen van Magister...<br>
							<div id="spinner"></div>
						</div>
					{{else}}
						<div>
							We hebben geprobeerd zoveel mogelijk vakken van Magister automatisch op te halen.<br>
							Verwijder overbodige vakken en wijzig onjuiste informatie, vakken kun je later toevoegen.
						</div>
						<div id="magisterClassesResult">
							{{#each magisterClasses}}
								<div id="{{id}}">
									<i style="cursor: pointer" class="fa fa-times"></i>
									<span class="input-group-addon"><i></i></span>
									<div id="classTitle">{{description}}</div>
									<input class="form-control" type="text" id="method" placeholder="Methode"/>
								</div>
							{{/each}}
						</div>
					{{/unless}}
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" id="goButton">verder</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="plannerPrefsModal">
	<div class="modal fade" id="plannerPrefsModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h4 class="modal-title">Planner voorkeuren</h4>
				</div>
				<div class="modal-body">
					<h4 style="text-align: center; margin-bottom: 20px;">Hoeveel tijd heb je op elke weekdag?<small><br><i>(schooltijd niet meegerekend)</i><br>Je kan dit altijd in je instellingen aanpassen.</small></h4>
					<form class="vertical full-width">
						{{#each dayWeek}}
							<div id="{{name}}}Group" class="group select">
								<label for="{{name}}Input">{{friendlyName}}</label>
								<select id="{{name}}Input">
									{{#each weigthOptions}}
										<option selected={{selected}}>{{name}}</option>
									{{/each}}
								</select>
							</div>
						{{/each}}
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" id="goButton">Opslaan</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="addClassModal">
	<div class="modal fade" id="addClassModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h4 class="modal-title">Vak toevoegen</h4>
				</div>
				<div class="modal-body">
					{{#with magisterClasses}}
						{{#unless empty}}
							<h3>Kies een vak van Magister</h3>
							{{#each this}}
								<div class="classRow">
									<div class="classname"></div>
									<button type="button" class="btn btn-primary">toevoegen</button>
								</div>
							{{/each}}
							<h3>Of maak zelf een vak</h3>
						{{/unless}}
					{{/with}}
					<form class="vertical full-width">
						<div id="nameGroup" class="group">
							<label for="classNameInput">Vaknaam</label>
							<input type="text" id="classNameInput" placeholder="Engels">
						</div>
						<div id="courseGroup" class="group">
							<label for="courseInput">Vakafkorting</label>
							<input type="text" id="courseInput" placeholder="entl">
						</div>
						<div id="bookGroup" class="group">
							<label for="bookInput">Methode</label>
							<input type="text" id="bookInput" placeholder="New Interface">
						</div>
						<div id="colorGroup" class="group">
							<label for="colorInput" id="colorLabel">Kleur</label>
							<input type="text" id="colorInput" placeholder="#32A8CE">
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Annuleren</button>
					<button type="button" class="btn btn-primary" id="goButton">Toevoegen</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="newSchoolYearModal">
	<div class="modal fade" id="newSchoolYearModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h4 class="modal-title">Nieuw Schooljaar</h4>
				</div>
				<div class="modal-body">
					<h4 style="text-align: center; margin-bottom: 20px;">Welken vakken moeten er weg?<small><br>Vakken kan je zometeen toevoegen.</small></h4>
					{{#each classes}}
						<div class="classRemoveRow">
							<label>
								<input type="checkbox" classId="{{_id._str}}">
								<span id="checkboxLabel">
									{{name}}
								</span>
							</label>
						</div>
					{{/each}}
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" id="goButton">Okido</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="accountInfoModal">
	<div class="modal fade" id="accountInfoModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h4 class="modal-title">Account info</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal">
						<div id="mailGroup" class="form-group">
							<label for="mailInput" class="col-sm-2 control-label" style="text-align: left">Email</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="mailInput" placeholder="hello@simplyApps.nl" value="{{currentMail}}">
							</div>
						</div>
						<div id="firstNameGroup" class="form-group">
							<label for="firstNameInput" class="col-sm-2 control-label" style="text-align: left">Voornaam</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="firstNameInput" placeholder="Henk" value="{{currentUser.profile.firstName}}">
							</div>
						</div>
						<div id="lastNameGroup" class="form-group">
							<label for="lastNameInput" class="col-sm-2 control-label" style="text-align: left">Achternaam</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="lastNameInput" placeholder="Jansen" value="{{currentUser.profile.lastName}}">
							</div>
						</div>
						<div id="oldPassGroup" class="form-group">
							<label for="oldPassInput" class="col-sm-2 control-label" style="text-align: left">Oud wachtwoord</label>
							<div class="col-sm-10">
								<input type="password" class="form-control" id="oldPassInput" placeholder="●●●●●●●●●●">
							</div>
						</div>
						<div id="newPassGroup" class="form-group">
							<label for="newPassInput" class="col-sm-2 control-label" style="text-align: left">Nieuw wachtwoord</label>
							<div class="col-sm-10">
								<input type="password" class="form-control" id="newPassInput" placeholder="●●●●●●●●●●">
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Annuleren</button>
					<button type="button" class="btn btn-primary" id="goButton">Opslaan</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="notificationSettingsModal">
	<div class="modal fade" id="accountInfoModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h4 class="modal-title">Account info</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal">
						<div id="mailGroup" class="form-group">
							<label for="mailInput" class="col-sm-2 control-label" style="text-align: left">Email</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="mailInput" placeholder="hello@simplyApps.nl" value="{{currentMail}}">
							</div>
						</div>
						<div id="oldPassGroup" class="form-group">
							<label for="oldPassInput" class="col-sm-2 control-label" style="text-align: left">Oud wachtwoord</label>
							<div class="col-sm-10">
								<input type="password" class="form-control" id="oldPassInput" placeholder="●●●●●●●●●●">
							</div>
						</div>
						<div id="newPassGroup" class="form-group">
							<label for="newPassInput" class="col-sm-2 control-label" style="text-align: left">Nieuw wachtwoord</label>
							<div class="col-sm-10">
								<input type="password" class="form-control" id="newPassInput" placeholder="●●●●●●●●●●">
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Annuleren</button>
					<button type="button" class="btn btn-primary" id="goButton">Opslaan</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="addProjectModal">
	<div class="modal fade" id="addProjectModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h4 class="modal-title">Project aanmaken</h4>
				</div>
				<div class="modal-body">
					{{#with assignments}}
						{{#unless empty}}
							<h3>Kies een een opdracht van Magister</h3>
							{{#each this}}
								<div class="assignmentRow">
									<div class="className">{{__class.course}}</div>
									<div class="assignmentName">{{name}}</div>

									{{#unless project}}
										<button type="button" class="btn btn-primary" id="createButton">aanmaken</button>
									{{else}}
										<button type="button" class="btn btn-default goToProjectButton" id="{{project._id.toHexString}}">aangemaakt</button>
									{{/unless}}
								</div>
							{{/each}}
							<h3>Of maak zelf een project</h3>
						{{/unless}}
					{{/with}}
					<form class="form-horizontal">
						<div id="projectNameGroup" class="form-group">
							<label for="projectNameInput" class="col-sm-2 control-label" style="text-align: left">Naam</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="projectNameInput" placeholder="Projectnaam">
							</div>
						</div>
						<div id="projectDescriptionGroup" class="form-group">
							<label for="projectDescriptionInput" class="col-sm-2 control-label" style="text-align: left">Beschrijving</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="projectDescriptionInput" placeholder="Projectbeschrijving">
							</div>
						</div>
						<div id="projectDeadlineGroup" class="form-group">
							<label for="projectDeadlineInput" class="col-sm-2 control-label" style="text-align: left">Deadline</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="projectDeadlineInput">
							</div>
						</div>
						<div id="projectClassGroup" class="form-group">
							<label for="projectClassNameInput" class="col-sm-2 control-label" style="text-align: left">Vak</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" id="projectClassNameInput" placeholder="Projectvak">
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" id="goButton">Aanmaken</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="deleteAccountModal">
	<div class="modal fade" id="deleteAccountModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h4 class="modal-title">Account verwijderen</h4>
				</div>
				<div class="modal-body">
					<div>
						Je staat op het punt om je gehele account te verwijderen.
						Dit kan <b>niet</b> worden teruggedraaid.
						Om aan te geven dat je zeker weet dat je je account wilt
						verwijderen moet je beneden je wachtwoord en een captcha invoren.
					</div>
					<br>
					<input type="password" class="form-control" id="passwordInput" placeholder="●●●●●●●●●●" autocomplete="off">

					<div style="margin-top: 15px">
						{{> reCAPTCHA}}
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Annuleren</button>
					<button type="button" class="btn btn-danger" id="goButton">Verwijder</button>
				</div>
			</div>
		</div>
	</div>
</template>
