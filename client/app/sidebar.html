<template name="sidebar">
	<div class="sidebar unselectable" onselectstart="return false;" ondragstart="return false;">
		{{#linkTo route="personView" data=currentUser}}
			<div class="sidebarProfile">
				<div class="sidebarProfileBack" style="background-image: url({{ gravatar currentUser 250}})"></div>
				<img class="sidebarProfilePicture" src="{{gravatar currentUser 100}}" width="50" height="50"/>
				<div class="sidebarProfileName">
					{{#with currentUser.profile}}
						{{firstName}}
					{{/with}}
				</div>
			</div>
		{{/linkTo}}
		<a href="{{pathFor 'app'}}">
			<div class="sidebarButton bigSidebarButton" id="overview">
				<div class="selectedBorder"></div>
				Overzicht
			</div>
		</a>
		<a href="{{pathFor 'calendar'}}">
			<div class="sidebarButton bigSidebarButton" id="calendar">
				<div class="selectedBorder"></div>
				Agenda
			</div>
		</a>

		<div class="sidebarSubheading" id="classes">
			Vakken
			<div id="addClassButton" class="pull-right" style="margin-right: 15px">
				<i class="fa fa-plus-circle"></i>
			</div>
		</div>

		<div class="sidebarClasses">
			{{#each classes}}
				{{#linkTo route="classView" classId=_id.toHexString}}
					{{> sidebarItem}}
				{{/linkTo}}
			{{/each}}
		</div>
		<div class="sidebarFooter">
			<div class="sidebarFooterSettingsIcon"></div>
			<div class="appNameHeader sidebarFooterAppNameHeader"></div>
		</div>
	</div>
</template>

<template name="sidebarItem">
	<div class="sidebarButton sidebarClass" id="{{_id.toHexString}}">
		<div class="classColorBar" style="border-color: {{__color}}"></div>
		<div class="selectedBorder"></div>
		<span>{{__sidebarName}}</span>

		{{#if __showBadge}}
			{{#with __taskAmount}}
				{{#unless empty}}
					<div class="badge pull-right">{{this}}</div>
				{{/unless}}
			{{/with}}
		{{/if}}
	</div>
</template>
