<template name="calendarItemDetails">
	<div id="calendarItemDetails">
		{{#if scrapped}}
			<div id="scrapped">
				Uitval
			</div>
		{{/if}}
		<div id="peopleCarousel">
			{{#each people}}
				{{> calendarItemDetailsPerson}}
			{{/each}}
		</div>
		{{#if class}}
			<div class="row">
				<div>Vak:</div>
				<div>
					<a href="{{pathFor 'classView' id=class._id}}">
						{{class.name}}
					</a>
				</div>
			</div>
		{{else}}
			<div class="row">
				<div>Beschrijving:</div>
				<div>{{description}}</div>
			</div>
		{{/if}}
		{{#if schoolHour}}
			<div class="row">
				<div>Schooluur:</div>
				<div>{{schoolHour}}<sup>e</sup></div>
			</div>
		{{/if}}
		{{#if relativeTime}}
			<div class="row">
				<div>Relatief:</div>
				<div>{{relativeTime}}</div>
			</div>
		{{/if}}
		{{#if fullDay}}
			<div class="row">
				<div>Datum:</div>
				<div>{{dateFormat 'dddd D MMMM' startDate}} hele dag</div>
			</div>
		{{else}}
			<div class="row">
				<div>Begin:</div>
				<div>{{dateFormat 'dddd D MMMM HH:mm' startDate}}</div>
			</div>
			<div class="row">
				<div>Eind:</div>
				<div>{{dateFormat 'dddd D MMMM HH:mm' endDate}}</div>
			</div>
		{{/if}}
		{{#if location}}
			<div class="row">
				<div>Locatie:</div>
				<div>{{location}}</div>
			</div>
		{{/if}}
		{{#if content}}
			<div class="row" id="contentRow">
				<div>{{contentTypeLong}}:</div>
				<div>{{{contentDescription}}}</div>
			</div>
		{{/if}}
		{{#if files}}
			<div class="row">
				<div>{{plural fileCount 'Bestand' 'Bestanden'}}:</div>
				<div>{{{files}}}</div>
			</div>
		{{/if}}
		{{#if group}}
			<div class="row">
				<div>Klas:</div>
				<div>
					{{#if hasChat}}
						<a href="#" data-action="chat">{{group}}</a>
					{{else}}
						{{group}}
					{{/if}}
				</div>
			</div>
		{{/if}}
		{{#with teacher}}
			<div class="row">
				<div>Docent:</div>
				<div>{{name}}</div>
			</div>
		{{/with}}
		{{#with getAbsenceInfo}}
			<div class="row">
				<div>Absentie:</div>
				<div>
					{{description}}

					{{#if permitted}}
						(Geoorloofd)
					{{else}}
						<span class="unpermitted">(Ongeoorloofd)</span>
					{{/if}}
				</div>
			</div>
		{{/with}}
		{{#with service}}
			<div class="row">
				<div>Gehaald van:</div>
				<div>{{friendlyName}}</div>
			</div>
		{{/with}}
	</div>
</template>

<template name="calendarItemDetailsPerson">
	<a href="{{pathFor 'personView' id=_id}}">
		<img src="{{picture this 50}}" width="25" height="25" data-toggle="tooltip" title="{{profile.firstName}} {{profile.lastName}}"/>
	</a>
</template>
